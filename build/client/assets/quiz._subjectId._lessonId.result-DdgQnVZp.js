import{w as T,z as R,p as e,v as h}from"./chunk-EPOLDU6W-BH1RGhcj.js";import{B as u}from"./button-kqWwR707.js";import{c as j,C as N,e as w,a as E,b as J,B as v}from"./createLucideIcon-DS1iclBf.js";import{C as $,P as Q,b as M,A as D,c as F,a as U}from"./alert-Cc3ge4mz.js";import{B as H}from"./book-open-BsTvLaGk.js";import"./index-8fThPYGH.js";const O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k=j("circle-x",O);const V=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],W=j("house",V);const X=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],G=j("rotate-ccw",X);const Y=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Z=j("trophy",Y);async function le({params:t}){const[b,g]=await Promise.all([fetch("/data/quizzes.json"),fetch("/data/subjects.json")]),l=await b.json(),i=await g.json(),p=l.find(s=>s.subjectId===t.subjectId&&s.lessonId===t.lessonId),r=i.find(s=>s.id===t.subjectId),n=r?.lessons.find(s=>s.id===t.lessonId);if(!p||!r||!n)throw new Response("Quiz not found",{status:404});return{quiz:p,subject:r,lesson:n}}function ie({data:t}){return t?[{title:`Hasil Kuis - ${t.quiz.title} - EduKuis`},{name:"description",content:"Hasil kuis Anda"}]:[{title:"Hasil Kuis - EduKuis"},{name:"description",content:"Hasil kuis Anda"}]}const ce=T(function({loaderData:b}){const{quiz:g,subject:l,lesson:i}=b,r=R().state;if(!r)return e.jsx("div",{className:"min-h-screen bg-linear-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:e.jsx(N,{className:"max-w-md",children:e.jsxs(w,{className:"pt-6 text-center",children:[e.jsx($,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Data hasil tidak ditemukan"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Silakan kerjakan kuis terlebih dahulu"}),e.jsx(h,{to:`/quiz/${l.id}/${i.id}`,children:e.jsx(u,{children:"Kembali ke Kuis"})})]})})});const{score:n,totalQuestions:s,correctAnswers:y,answers:_,timeTaken:B,passingScore:z}=r,c=n>=z,L=s-y,q=a=>{const d=Math.floor(a/60),o=a%60;return`${d} menit ${o} detik`},A=["Selamat anda lolos kkm!","Jago kali anda!","Mantap betul!","Hebat! Terus pertahankan!","Luar biasa!"],C=["Latihan lagi!","Jangan menyerah!","Coba lagi, kamu pasti bisa!","Terus berusaha!","Semangat ya!"];let I=Math.floor(Math.random()*A.length),K=Math.floor(Math.random()*C.length);return e.jsx("div",{className:"min-h-screen bg-linear-to-br from-blue-50 via-white to-purple-50",children:e.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsx(N,{className:"mb-8",children:e.jsxs(w,{className:"pt-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[c?e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-4",children:e.jsx(Z,{className:"w-10 h-10 text-green-600"})}):e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-red-100 mb-4",children:e.jsx(k,{className:"w-10 h-10 text-red-600"})}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:c?A[I]:C[K]}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:c?`Anda telah lulus kuis dengan nilai ${n}%`:`Anda mendapat nilai ${n}%. Coba lagi untuk meningkatkan nilai Anda!`}),e.jsxs("div",{className:"max-w-md mx-auto mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Nilai Anda"}),e.jsxs("span",{className:"text-sm font-medium",children:[n,"%"]})]}),e.jsx(Q,{value:n,className:`h-4 ${c?"[&>div]:bg-green-500":"[&>div]:bg-red-500"}`}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"0%"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Nilai Lulus: ",z,"%"]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"100%"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Soal"}),e.jsx("p",{className:"text-2xl font-bold",children:s})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Benar"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:y})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Salah"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:L})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Waktu"}),e.jsx("p",{className:"text-xl font-bold",children:q(B)})]})]})]})}),e.jsxs(N,{className:"mb-8",children:[e.jsx(E,{children:e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Pembahasan Jawaban"]})}),e.jsx(w,{className:"space-y-6",children:g.questions.map((a,d)=>{const o=_[d],P=o===a.correctAnswer;return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",children:["#",d+1]}),P?e.jsxs(v,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:[e.jsx(M,{className:"w-3 h-3 mr-1"}),"Benar"]}):e.jsxs(v,{className:"bg-red-100 text-red-700 hover:bg-red-100",children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),"Salah"]})]})}),e.jsx("h3",{className:"font-semibold mb-3 text-lg",children:a.question}),e.jsx("div",{className:"space-y-2 mb-4",children:a.options.map((S,m)=>{const f=o===m,x=m===a.correctAnswer;return e.jsx("div",{className:`p-3 rounded-lg border-2 ${x?"border-green-500 bg-green-50":f?"border-red-500 bg-red-50":"border-border"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center text-sm font-bold ${x?"border-green-600 bg-green-600 text-white":f?"border-red-600 bg-red-600 text-white":"border-border"}`,children:String.fromCharCode(65+m)}),e.jsx("span",{children:S}),x&&e.jsx(M,{className:"w-4 h-4 text-green-600 ml-auto"}),f&&!x&&e.jsx(k,{className:"w-4 h-4 text-red-600 ml-auto"})]})},m)})}),e.jsxs(D,{children:[e.jsx($,{className:"h-4 w-4"}),e.jsx(F,{children:"Pembahasan"}),e.jsx(U,{children:a.explanation})]})]},a.id)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(h,{to:"/",children:e.jsxs(u,{variant:"outline",className:"w-full",size:"lg",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Ke Beranda"]})}),e.jsx(h,{to:`/subject/${l.id}/lesson/${i.id}`,children:e.jsxs(u,{variant:"outline",className:"w-full",size:"lg",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Baca Materi Lagi"]})}),e.jsx(h,{to:`/quiz/${l.id}/${i.id}`,children:e.jsxs(u,{className:"w-full",size:"lg",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Ulangi Kuis"]})})]})]})})});export{le as clientLoader,ce as default,ie as meta};
